<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>oolong.util documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Oolong 0.2.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><a href="oolong.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oolong</span></div></a></li><li class="depth-2 current"><a href="oolong.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="oolong.util.html#var-always"><div class="inner"><span>always</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-brew-cpt"><div class="inner"><span>brew-cpt</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-brew-list"><div class="inner"><span>brew-list</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-brew-map"><div class="inner"><span>brew-map</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-brew-sys"><div class="inner"><span>brew-sys</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-expected"><div class="inner"><span>expected</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-expecting"><div class="inner"><span>expecting</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-expects"><div class="inner"><span>expects</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-fsd.3F"><div class="inner"><span>fsd?</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-load-sym"><div class="inner"><span>load-sym</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-never"><div class="inner"><span>never</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-rsd.3F"><div class="inner"><span>rsd?</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-safely"><div class="inner"><span>safely</span></div></a></li><li class="depth-1"><a href="oolong.util.html#var-using"><div class="inner"><span>using</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">oolong.util</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-always"><h3>always</h3><div class="usage"></div><div class="doc"><pre class="plaintext">fn that always returns true. Used in tests
</pre></div></div><div class="public anchor" id="var-brew-cpt"><h3>brew-cpt</h3><div class="usage"><code>(brew-cpt sym list config)</code></div><div class="doc"><pre class="plaintext">Brews a component with the given config
cpt-list is a 2-list or 3list: &apos;(cpt qualified/symbol optional-dep-desc)
Args: [config cpt-list]
Returns: new component
Throws: if the symbol cannot be loaded or is not namespace qualified</pre></div></div><div class="public anchor" id="var-brew-list"><h3>brew-list</h3><div class="usage"><code>(brew-list [type desc &amp; [deps] :as list] config)</code></div><div class="doc"><pre class="plaintext">Brews a system list with the given config
Args: [list config]
  - list: a component or system list of one of the forms:
    * (cpt qualified/symbol opt-dep?)
    * (sys qualified/symbol opt-dep?)
    * (sys {:system `map} opt-dep?)
    opt-dep? will default to nil dependencies
  - config: the piece of configuration to initialise the cpt or sys with
Returns: new system or component with any dependency metadata
Throws: on malformed syntax</pre></div></div><div class="public anchor" id="var-brew-map"><h3>brew-map</h3><div class="usage"><code>(brew-map sys config)</code></div><div class="doc"><pre class="plaintext">Brews a system map with the given configuration
Args: [sys config]
Returns: new system of component with any dependency metadata</pre></div></div><div class="public anchor" id="var-brew-sys"><h3>brew-sys</h3><div class="usage"><code>(brew-sys sys config)</code></div><div class="doc"><pre class="plaintext">Brews the given system descriptor with the given config
Args: [sys config]
Returns: new system with any dependency metadata</pre></div></div><div class="public anchor" id="var-expected"><h3>expected</h3><div class="usage"><code>(expected exp got in)</code><code>(expected exp got in extra)</code></div><div class="doc"><pre class="plaintext">Makes and throws an exception notifying that we got unexpected input
Returns: never
Args: [exp got in extra?]
  exp: what you expected. will be stringified into error message
  got: what you actually got
  in: the container you found the unexpected thing in
  extra: an optional map (default {}) of extra args to merge into
         the ex-info error information map</pre></div></div><div class="public anchor" id="var-expecting"><h3>expecting</h3><h4 class="type">macro</h4><div class="usage"><code>(expecting args &amp; exprs)</code></div><div class="doc"><pre class="plaintext">Provides a cleaner way to enforce expectations.
Args: [args &amp; exprs]
  - args: the arguments you would provide `expect`, as a vector or list
  - exprs: the code you were going to write undeneath the `expect` call</pre></div></div><div class="public anchor" id="var-expects"><h3>expects</h3><div class="usage"><code>(expects p got exp in)</code><code>(expects p got exp in extra)</code></div><div class="doc"><pre class="plaintext">If a predicate fails, make and throw an exception
Args: [pred got exp in extra?]
  exp: what you expected. Will be stringified into error message
  in: the container you found the unexpected thing in
  extra: optional map of extra args to merge (per `expected` docstring)</pre></div></div><div class="public anchor" id="var-fsd.3F"><h3>fsd?</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Predicate that returns whether the provided form is a valid
Full System Descriptor (FSD)
Args: [form]</pre></div></div><div class="public anchor" id="var-load-sym"><h3>load-sym</h3><div class="usage"><code>(load-sym sym &amp; [fatal])</code></div><div class="doc"><pre class="plaintext">Given a fully qualified symbol, loads its namespace and returns
the value the symbol resolves to.
Given a symbol that does not resolve and the optional `fatal`
argument, an exception will be thrown.</pre></div></div><div class="public anchor" id="var-never"><h3>never</h3><div class="usage"></div><div class="doc"><pre class="plaintext">fn that always returns nil. Used in tests
</pre></div></div><div class="public anchor" id="var-rsd.3F"><h3>rsd?</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Predicate that returns whether the provided form is a valid
Reduced System Descriptor (RSD)
Args: [form]</pre></div></div><div class="public anchor" id="var-safely"><h3>safely</h3><h4 class="type">macro</h4><div class="usage"><code>(safely &amp; exprs)</code></div><div class="doc"><pre class="plaintext">A macro which wraps the nested exprs in a try
In case of exception, the return value of the block will be nil</pre></div></div><div class="public anchor" id="var-using"><h3>using</h3><div class="usage"><code>(using sys-or-cpt deps using-fn)</code></div><div class="doc"><pre class="plaintext">Applies the relevant `using-fn` to the tidied up `deps`
- Allows users to provide a single keyword dep (makes a 1-vec)
- Is tolerant of nil deps
Args: [sys-or-cpt deps using-fn]
Returns: sys-or-cpt with new dependency metadata</pre></div></div></div></body></html>